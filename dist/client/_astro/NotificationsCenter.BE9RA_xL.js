import{j as e}from"./jsx-runtime.CYiYLu1p.js";import{r as t}from"./index.CZlPm10g.js";function j(){const[i,o]=t.useState([]),[r,x]=t.useState({essaysCount:0,publicEssaysCount:0,karma:0}),[m,n]=t.useState(!0),[a,c]=t.useState("essays");t.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0);const d=await fetch("/api/essays?userId=mock-user-123"),l=await d.json();if(d.ok){o(l.essays||[]);const h=l.essays?.filter(u=>u.is_public)||[];x({essaysCount:l.essays?.length||0,publicEssaysCount:h.length,karma:0})}}catch(s){console.error("Failed to fetch user data:",s)}finally{n(!1)}},y=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return m?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.essaysCount}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Essays"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.publicEssaysCount}),e.jsx("div",{className:"text-sm text-gray-600",children:"Public Essays"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.karma}),e.jsx("div",{className:"text-sm text-gray-600",children:"Karma"})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>c("essays"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="essays"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Essays"}),e.jsx("button",{onClick:()=>c("stats"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="stats"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Activity"})]})}),a==="essays"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"My Essays"}),e.jsx("a",{href:"/app/write",className:"btn btn-primary",children:"âœï¸ Write New Essay"})]}),i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ“"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No essays yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start writing your first college essay!"}),e.jsx("a",{href:"/app/write",className:"btn btn-primary",children:"Write Your First Essay"})]}):e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Created ",y(s.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.is_public?e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"ğŸŒ Public"}):e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full",children:"ğŸ”’ Private"}),e.jsx("button",{className:"btn btn-ghost btn-sm",children:"Edit"})]})]})},s.id))})]}),a==="stats"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ“Š"}),e.jsx("p",{children:"Activity tracking coming soon!"})]})]})]})}export{j as default};
