import{c as f,d,e as U,f as O}from"./chunk-K6S4O6NY.6jAmY9Ez.js";function m(e){return!1}var k=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,x=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],E="pk_live_",K="pk_test_";function S(e){if(!e.endsWith("$"))return!1;const r=e.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function p(e,r={}){if(e=e||"",!e||!y(e)){if(r.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!y(e))throw new Error("Publishable key not valid.");return null}const t=e.startsWith(E)?"production":"development";let n;try{n=k(e.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!S(n)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let a=n.slice(0,-1);return r.proxyUrl?a=r.proxyUrl:t!=="development"&&r.domain&&r.isSatellite&&(a=`clerk.${r.domain}`),{instanceType:t,frontendApi:a}}function y(e=""){try{if(!(e.startsWith(E)||e.startsWith(K)))return!1;const t=e.split("_");if(t.length!==3)return!1;const n=t[2];if(!n)return!1;const a=k(n);return S(a)}catch{return!1}}function M(){const e=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const t=typeof r=="string"?r:r.hostname;let n=e.get(t);return n===void 0&&(n=x.some(a=>t.endsWith(a)),e.set(t,n)),n}}}var L=(e,r="5.86.0")=>{if(e)return e;const t=$(r);return t?t==="snapshot"?"5.86.0":t:D(r)},$=e=>e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/)?.[1],D=e=>e.trim().replace(/^v/,"").split(".")[0];function J(e){return e?F(e)||_(e):!0}function F(e){return/^http(s)?:\/\//.test(e||"")}function _(e){return e.startsWith("/")}function N(e){return e?_(e)?new URL(e,window.location.origin).toString():e:""}function j(e){if(!e)return"";let r;if(e.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;r=/^(clerk\.)*/gi}return`clerk.${e.replace(r,"")}`}var z={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,r)=>r<5,retryImmediately:!1,jitter:!0},B=100,P=async e=>new Promise(r=>setTimeout(r,e)),C=(e,r)=>r?e*(1+Math.random()):e,V=e=>{let r=0;const t=()=>{const n=e.initialDelay,a=e.factor;let i=n*Math.pow(a,r);return i=C(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await P(t()),r++}},W=async(e,r={})=>{let t=0;const{shouldRetry:n,initialDelay:a,maxDelayBetweenRetries:i,factor:c,retryImmediately:s,jitter:l}={...z,...r},u=V({initialDelay:a,maxDelayBetweenRetries:i,factor:c,jitter:l});for(;;)try{return await e()}catch(o){if(t++,!n(o,t))throw o;s&&t===1?await P(C(B,l)):await u()}},Y="loadScript cannot be called when document does not exist",H="loadScript cannot be called without a src";async function q(e="",r){const{async:t,defer:n,beforeLoad:a,crossOrigin:i,nonce:c}=r||{};return W(()=>new Promise((l,u)=>{e||u(new Error(H)),(!document||!document.body)&&u(Y);const o=document.createElement("script");i&&o.setAttribute("crossorigin",i),o.async=t||!1,o.defer=n||!1,o.addEventListener("load",()=>{o.remove(),l(o)}),o.addEventListener("error",()=>{o.remove(),u()}),o.src=e,o.nonce=c,a?.(o),document.body.appendChild(o)}),{shouldRetry:(l,u)=>u<=5})}var G=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function X({packageName:e,customMessages:r}){let t=e;function n(i,c){if(!c)return`${t}: ${i}`;let s=i;const l=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const u of l){const o=(c[u[1]]||"").toString();s=s.replace(`{{${u[1]}}}`,o)}return`${t}: ${s}`}const a={...G,...r};return{setPackageName({packageName:i}){return typeof i=="string"&&(t=i),this},setMessages({customMessages:i}){return Object.assign(a,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(a.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(a.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(a.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(a.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(a.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}var A="Clerk: Failed to load Clerk",{isDevOrStagingUrl:Z}=M(),I=X({packageName:"@clerk/shared"});function Q(e){I.setPackageName({packageName:e})}function h(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function g(e){return new Promise((r,t)=>{let n=!1;const a=(u,o)=>{clearTimeout(u),clearInterval(o)},i=()=>{n||h()&&(n=!0,a(s,l),r(null))},s=setTimeout(()=>{n||(n=!0,a(s,l),h()?r(null):t(new Error(A)))},e);i();const l=setInterval(()=>{if(n){clearInterval(l);return}i()},100)})}var ee=async e=>{const r=e?.scriptLoadTimeout??15e3;if(h())return null;if(document.querySelector("script[data-clerk-js-script]"))return g(r);if(!e?.publishableKey)return I.throwMissingPublishableKeyError(),null;const n=g(r);return q(re(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:ne(e)}).catch(()=>{throw new Error(A)}),n},re=e=>{const{clerkJSUrl:r,clerkJSVariant:t,clerkJSVersion:n,proxyUrl:a,domain:i,publishableKey:c}=e;if(r)return r;let s="";a&&J(a)?s=N(a).replace(/http(s)?:\/\//,""):i&&!Z(p(c)?.frontendApi||"")?s=j(i):s=p(c)?.frontendApi||"";const l=t?`${t.replace(/\.+$/,"")}.`:"",u=L(n);return`https://${s}/npm/@clerk/clerk-js@${u}/dist/clerk.${l}browser.js`},te=e=>{const r={};return e.publishableKey&&(r["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(r["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(r["data-clerk-domain"]=e.domain),e.nonce&&(r.nonce=e.nonce),r},ne=e=>r=>{const t=te(e);for(const n in t)r.setAttribute(n,t[n])},R=()=>{["handleRedirectCallback"].forEach(r=>{document.querySelectorAll(`[data-clerk-function-id^="clerk-${r}"]`).forEach(n=>{const a=n.getAttribute("data-clerk-function-id"),i=window.__astro_clerk_function_props?.get(r)?.get(a)??{};f.get()?.[r]?.(i)})})},T=()=>{Object.entries({"create-organization":"mountCreateOrganization","organization-list":"mountOrganizationList","organization-profile":"mountOrganizationProfile","organization-switcher":"mountOrganizationSwitcher","user-button":"mountUserButton","user-profile":"mountUserProfile","sign-in":"mountSignIn","sign-up":"mountSignUp","google-one-tap":"openGoogleOneTap",waitlist:"mountWaitlist","pricing-table":"mountPricingTable"}).forEach(([r,t])=>{document.querySelectorAll(`[data-clerk-id^="clerk-${r}"]`).forEach(a=>{const i=a.getAttribute("data-clerk-id"),c=window.__astro_clerk_component_props?.get(r)?.get(i);a&&f.get()?.[t](a,c)})})},ae=e=>{let r=!1;return t=>{if(r){const n=window.Clerk;return new Promise(a=>n?(n.loaded&&(T(),R()),a(n.loaded)):a(!1))}return r=!0,e(t)}},b;Q("@clerk/astro");function v(e){return(r,t)=>{t?.__internal_metadata?.navigationType==="internal"?e(history.state,"",r):t?.windowNavigate(r)}}var ie=ae(oe);async function oe(e){let r=window.Clerk;if(!r){if(await ee(e),!window.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");r=window.Clerk}return f.get()||f.set(r),b={routerPush:v(window.history.pushState.bind(window.history)),routerReplace:v(window.history.replaceState.bind(window.history)),...e},r.load(b).then(()=>{d.setKey("isLoaded",!0),U.notify(),T(),R(),r.addListener(t=>{d.setKey("client",t.client),d.setKey("user",t.user),d.setKey("session",t.session),d.setKey("organization",t.organization)})}).catch(()=>{})}var se=e=>{const{signInUrl:r,signUpUrl:t,isSatellite:n,proxyUrl:a,domain:i,publishableKey:c,telemetry:s,...l}=e||{};return{signInUrl:r||"/login",signUpUrl:t||"/signup",isSatellite:n||void 0,proxyUrl:a||void 0,domain:i||void 0,publishableKey:c||"pk_test_bG9naWNhbC13YXJ0aG9nLTI0LmNsZXJrLmFjY291bnRzLmRldiQ",telemetry:s||{disabled:m(),debug:m()},...l}};function le(e){async function r(t){const n=document.getElementById("__CLERK_ASTRO_DATA__");n&&O.set(JSON.parse(n.textContent||"{}"));const a=document.getElementById("__CLERK_ASTRO_SAFE_VARS__");let i={};a&&(i=JSON.parse(a.textContent||"{}")),await e(se({...t,...i}))}return r}var w="data-astro-transition-persist",ce="data-emotion";function he(e,r){e.deselectScripts(r),e.swapRootAttributes(r);const t=document.querySelectorAll(`style[${ce}]`);ue(r,Array.from(t));const n=e.saveFocus();e.swapBodyElement(r.body,document.body),n()}function ue(e,r){for(const t of Array.from(document.head.children)){const n=de(t,e);n?n.remove():r.includes(t)||t.remove()}document.head.append(...e.head.children)}function de(e,r){const t=e.getAttribute(w),n=t&&r.head.querySelector(`[${w}="${t}"]`);if(n)return n;if(e.matches("link[rel=stylesheet]")){const a=e.getAttribute("href");return r.head.querySelector(`link[rel=stylesheet][href="${a}"]`)}return null}var me=le(ie);export{me as r,he as s};
