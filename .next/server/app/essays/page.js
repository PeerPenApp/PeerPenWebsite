(()=>{var e={};e.id=3659,e.ids=[3659],e.modules={66:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(37413);let i=(0,t(26373).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(){return(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-accent"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading essay editor..."})]})})}},2847:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o});var a=t(65239),i=t(48088),n=t(88170),r=t.n(n),l=t(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o={children:["",{children:["essays",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,10508)),"/Users/krithikalluri/Documents/GitHub/PeerPenWebsite/app/essays/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,66)),"/Users/krithikalluri/Documents/GitHub/PeerPenWebsite/app/essays/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/krithikalluri/Documents/GitHub/PeerPenWebsite/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/krithikalluri/Documents/GitHub/PeerPenWebsite/app/essays/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/essays/page",pathname:"/essays",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10508:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,dynamic:()=>i});var a=t(12907);let i=(0,a.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/krithikalluri/Documents/GitHub/PeerPenWebsite/app/essays/page.tsx","dynamic"),n=(0,a.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/krithikalluri/Documents/GitHub/PeerPenWebsite/app/essays/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/krithikalluri/Documents/GitHub/PeerPenWebsite/app/essays/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26373:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(61120);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:o,...d},m)=>(0,a.createElement)("svg",{ref:m,...r,width:s,height:s,stroke:e,strokeWidth:i?24*Number(t)/Number(s):t,className:n("lucide",l),...d},[...o.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(c)?c:[c]])),c=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...r},c)=>(0,a.createElement)(l,{ref:c,iconNode:s,className:n(`lucide-${i(e)}`,t),...r}));return t.displayName=`${e}`,t}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},52690:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A,dynamic:()=>R});var a=t(60687),i=t(43210),n=t(99270),r=t(98492),l=t(41862),c=t(82080),o=t(11860),d=t(78200),m=t(33872),x=t(94250),u=t(24934),h=t(68988),p=t(55192),g=t(59821),j=t(63974),f=t(58709),b=t(37826),v=t(15616),y=t(86287),N=t(95049),w=t(50249),k=t(52581),C=t(85814),P=t.n(C);let R="force-dynamic";function A(){let[e,s]=(0,i.useState)(""),[t,C]=(0,i.useState)(!1),[R,A]=(0,i.useState)({college:"all",status:"published",visibility:"public",rating:[0],dateRange:"all",tags:[]}),[S,E]=(0,i.useState)([]),[q,$]=(0,i.useState)(!0),[_,D]=(0,i.useState)([]),[F,L]=(0,i.useState)([]),[G,O]=(0,i.useState)({essay:null,isOpen:!1,isLoading:!1}),[W,z]=(0,i.useState)(null),[U,H]=(0,i.useState)(null),[T,V]=(0,i.useState)([]),[B,M]=(0,i.useState)(""),[I,Z]=(0,i.useState)(!1),[J,K]=(0,i.useState)({ratingCount:0,userRating:null,avgRating:0}),X=async()=>{try{$(!0);let s=new URLSearchParams;s.set("type","essays"),e.trim()&&s.set("q",e.trim()),R.status&&"published"!==R.status&&s.set("status",R.status),R.visibility&&"public"!==R.visibility&&s.set("visibility",R.visibility),R.rating[0]>0&&s.set("minRating",R.rating[0].toString()),R.college&&"all"!==R.college&&s.set("college",R.college),R.tags.length>0&&s.set("tags",R.tags.join(",")),R.dateRange&&"all"!==R.dateRange&&s.set("dateRange",R.dateRange);let t=await fetch(`/api/search?${s}`),a=await t.json();E(a.essays||[])}catch(e){console.error("Error fetching essays:",e),k.oR.error("Failed to load essays. Please try again.")}finally{$(!1)}},Q=()=>{X()},Y=e=>{A(s=>({...s,tags:s.tags.includes(e)?s.tags.filter(s=>s!==e):[...s.tags,e]}))},ee=async e=>{O({essay:e,isOpen:!0,isLoading:!0});try{let s=await fetch(`/api/essays/${e.id}/feedback`);if(s.ok){let t=await s.json();if(t.feedback&&t.feedback.length>0){let s=t.feedback[0];z({analysis:s.general_comment,model_used:s.model_name,success:!0,note:"ai"===s.provider?"AI Analysis":"Human Feedback"});let a=await fetch(`/api/essays/${e.id}/feedback/${s.id}/scores`);if(a.ok){let e=await a.json();e.scores&&H(e.scores)}}}let t=await fetch(`/api/essays/${e.id}/comments`);if(t.ok){let e=await t.json();V(e.comments||[])}let a=await fetch(`/api/essays/${e.id}/like`);if(a.ok){let e=await a.json();K({ratingCount:e.ratingCount||0,userRating:e.userRating,avgRating:e.avgRating||0})}}catch(e){console.error("Error fetching essay data:",e)}finally{O(e=>({...e,isLoading:!1}))}},es=()=>{O({essay:null,isOpen:!1,isLoading:!1}),z(null),H(null),V([]),M(""),K({ratingCount:0,userRating:null,avgRating:0})},et=async e=>{if(G.essay)try{let s=await fetch(`/api/essays/${G.essay.id}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({score:e})});if(s.ok){let t=await s.json();K(s=>({ratingCount:t.rated?s.ratingCount:s.ratingCount-1,userRating:t.rated?e:null,avgRating:s.avgRating}));let a=await fetch(`/api/essays/${G.essay.id}/like`);if(a.ok){let e=await a.json();K(s=>({...s,ratingCount:e.ratingCount||0,avgRating:e.avgRating||0}))}k.oR.success(t.message)}else{let e=await s.json();k.oR.error(e.error||"Failed to update rating")}}catch(e){console.error("Error updating rating:",e),k.oR.error("Failed to update rating")}},ea=async()=>{if(G.essay&&B.trim())try{Z(!0);let e=await fetch(`/api/essays/${G.essay.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:B.trim()})});if(e.ok){if((await e.json()).success){M("");let e=await fetch(`/api/essays/${G.essay.id}/comments`);if(e.ok){let s=await e.json();V(s.comments||[])}k.oR.success("Comment posted successfully!")}}else k.oR.error("Failed to post comment")}catch(e){console.error("Error posting comment:",e),k.oR.error("Failed to post comment")}finally{Z(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("header",{className:"border-b border-border bg-card",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(P(),{href:"/dashboard",className:"text-2xl font-bold font-serif text-foreground",children:"PeerPen"}),(0,a.jsx)(w.UserButton,{})]}),(0,a.jsx)(N.default,{})]})}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Browse Essays"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Discover and read essays from the community"})]}),(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,a.jsx)(h.p,{placeholder:"Search essays, topics, or authors...",value:e,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&Q(),className:"pl-10 pr-4 py-3 text-lg"}),(0,a.jsxs)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex gap-2",children:[(0,a.jsxs)(u.$,{variant:"outline",size:"sm",onClick:Q,children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Search"]}),(0,a.jsxs)(u.$,{variant:"outline",size:"sm",onClick:()=>C(!t),children:[(0,a.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),t&&(0,a.jsxs)(p.Zp,{className:"mb-6",children:[(0,a.jsx)(p.aR,{children:(0,a.jsx)(p.ZB,{className:"text-lg",children:"Filter Essays"})}),(0,a.jsxs)(p.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"College"}),(0,a.jsxs)(j.l6,{value:R.college,onValueChange:e=>A(s=>({...s,college:e})),children:[(0,a.jsx)(j.bq,{children:(0,a.jsx)(j.yv,{placeholder:"Any college"})}),(0,a.jsxs)(j.gC,{children:[(0,a.jsx)(j.eb,{value:"all",children:"Any college"}),_.map(e=>(0,a.jsx)(j.eb,{value:e.toLowerCase(),children:e},e))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),(0,a.jsxs)(j.l6,{value:R.status,onValueChange:e=>A(s=>({...s,status:e})),children:[(0,a.jsx)(j.bq,{children:(0,a.jsx)(j.yv,{})}),(0,a.jsxs)(j.gC,{children:[(0,a.jsx)(j.eb,{value:"published",children:"Published"}),(0,a.jsx)(j.eb,{value:"draft",children:"Draft"}),(0,a.jsx)(j.eb,{value:"archived",children:"Archived"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Visibility"}),(0,a.jsxs)(j.l6,{value:R.visibility,onValueChange:e=>A(s=>({...s,visibility:e})),children:[(0,a.jsx)(j.bq,{children:(0,a.jsx)(j.yv,{})}),(0,a.jsxs)(j.gC,{children:[(0,a.jsx)(j.eb,{value:"public",children:"Public"}),(0,a.jsx)(j.eb,{value:"followers",children:"Followers Only"}),(0,a.jsx)(j.eb,{value:"private",children:"Private"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Minimum Rating"}),(0,a.jsx)(f.A,{value:R.rating,onValueChange:e=>A(s=>({...s,rating:e})),max:5,min:0,step:.1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[R.rating[0].toFixed(1),"+ stars"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Date Range"}),(0,a.jsxs)(j.l6,{value:R.dateRange,onValueChange:e=>A(s=>({...s,dateRange:e})),children:[(0,a.jsx)(j.bq,{children:(0,a.jsx)(j.yv,{placeholder:"Any time"})}),(0,a.jsxs)(j.gC,{children:[(0,a.jsx)(j.eb,{value:"all",children:"Any time"}),(0,a.jsx)(j.eb,{value:"week",children:"Past week"}),(0,a.jsx)(j.eb,{value:"month",children:"Past month"}),(0,a.jsx)(j.eb,{value:"year",children:"Past year"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(e=>(0,a.jsx)(g.E,{variant:R.tags.includes(e)?"default":"outline",className:"cursor-pointer hover:bg-accent",onClick:()=>Y(e),children:e},e))})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(u.$,{onClick:()=>{X()},className:"w-full",children:"Apply Filters"})})]})]}),q?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(l.A,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)("div",{className:"grid gap-6",children:0===S.length?(0,a.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,a.jsx)(c.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No essays found matching your criteria."}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your search or filters."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["Found ",S.length," essays"]})}),S.map(e=>(0,a.jsx)(p.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>ee(e),children:(0,a.jsxs)(p.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2 hover:text-accent",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[(0,a.jsxs)("span",{children:["by ",e.author]}),e.college&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.college})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,a.jsx)(x.G,{rating:e.avgRating,size:"sm",showScore:!0}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["(",e.ratingCount,")"]})]})]}),e.prompt&&(0,a.jsxs)("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Prompt:"})," ",e.prompt]}),(0,a.jsxs)("p",{className:"text-foreground mb-4 line-clamp-3",children:[e.content.substring(0,200),"..."]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.wordCount," words"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.commentCount," comments"]})]}),(0,a.jsx)(g.E,{variant:"public"===e.visibility?"default":"secondary",children:e.visibility})]})]})},e.id))]})})]}),(0,a.jsx)(b.lG,{open:G.isOpen,onOpenChange:es,children:(0,a.jsxs)(b.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(b.c7,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(b.L3,{className:"text-2xl font-bold",children:G.essay?.title}),(0,a.jsx)(u.$,{variant:"ghost",size:"sm",onClick:es,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]}),G.essay&&(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["by ",G.essay.author]}),G.essay.college&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:G.essay.college})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[G.essay.wordCount," words"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:new Date(G.essay.createdAt).toLocaleDateString()})]})]}),G.isLoading?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(l.A,{className:"h-8 w-8 animate-spin"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Essay Content"}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none bg-muted/50 p-4 rounded-md",children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed",children:G.essay?.content})})]}),G.essay?.prompt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Essay Prompt"}),(0,a.jsx)("div",{className:"bg-muted/50 p-4 rounded-md",children:(0,a.jsx)("p",{className:"text-sm",children:G.essay.prompt})})]}),W&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),"AI Analysis"]}),U&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-md font-medium mb-3",children:"Evaluation Scores"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[[{key:"flow",label:"Flow",value:U.flow},{key:"hook",label:"Hook",value:U.hook},{key:"voice",label:"Voice",value:U.voice},{key:"uniqueness",label:"Uniqueness",value:U.uniqueness},{key:"conciseness",label:"Conciseness",value:U.conciseness},{key:"authenticity",label:"Authenticity",value:U.authenticity}].map(({key:e,label:s,value:t})=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:s}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t,"/10"]})]}),(0,a.jsx)(y.k,{value:10*t,className:"h-2"})]},e)),U.overall&&(0,a.jsxs)("div",{className:"col-span-2 md:col-span-3 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Overall Score"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-accent",children:[U.overall.toFixed(1),"/10"]})]}),(0,a.jsx)(y.k,{value:10*U.overall,className:"h-3"})]})]})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-4 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(g.E,{variant:"default",children:W.model_used}),W.note&&(0,a.jsx)(g.E,{variant:"outline",children:W.note})]}),(0,a.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed",children:W.analysis})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("div",{className:"space-y-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Rate this essay:"}),(0,a.jsx)(x.n,{rating:J.userRating||0,onRatingChange:et,size:"md"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Average:"}),(0,a.jsx)(x.G,{rating:J.avgRating,size:"sm",showScore:!0}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",J.ratingCount," ",1===J.ratingCount?"rating":"ratings",")"]})]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5"}),"Comments (",T.length,")"]}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[T.map(e=>(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.author}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"text-sm",children:e.content})]},e.id)),0===T.length&&(0,a.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No comments yet. Be the first to comment!"})]}),(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(v.T,{placeholder:"Write a comment...",value:B,onChange:e=>M(e.target.value),className:"flex-1",rows:3}),(0,a.jsxs)(u.$,{onClick:ea,disabled:!B.trim()||I,className:"self-end",children:[I?(0,a.jsx)(l.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Post"]})]})})]})]})]})]})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71121:(e,s,t)=>{Promise.resolve().then(t.bind(t,52690))},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},80849:(e,s,t)=>{Promise.resolve().then(t.bind(t,10508))}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[80,8261,4999,9448,827,2282,9192,955,8904,6076,8353],()=>t(2847));module.exports=a})();